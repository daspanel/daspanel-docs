
# Site using GRAV

## Overview

As stated on your home page "Grav is a modern open source flat-file CMS". It is 
widely used for website development and does not depend on any kind of database 
server.

In this tutorial you will learn how to create a Grav site in Daspanel.

## Quick Start

### Login

Open the admin in your browser [http://admin.daspanel.site](http://admin.daspanel.site)

[![Daspanel login](/images/daspanel-login.png)](/images/daspanel-login.png)

The admin user and your password are the ones you choose when creating your 
project as instructed [here](/help/install/linux/#configure-daspanel).

### Create new site

1. Go to the [Sites module](http://admin.daspanel.site/sites/)

    [![Daspanel sites](/images/howto/sites-empty.png)](/images/howto/sites-empty.png)

2. Add new site clicking the "+" icone in the upper right of the Sites panel

    [![Daspanel grav new](/images/howto/sites-grav-new.png)](/images/howto/sites-grav-new.png)

    * Write an description for your new site
    * Choose 'Grav' as Type
    * And 'PHP 7.0' as Engine

!!! tip "Other ways to install"
    1. There is also a ZIP file that you can download with all the necessary 
    content. In this case follow these steps:
    ``` shell
    wget https://github.com/daspanel/daspanel/archive/master.zip
    unzip master.zip
    mv daspanel-master customer1
    cd customer1
    ```
    2. Or, use git and clone the repositorie:
    ``` shell
    git clone https://github.com/daspanel/daspanel.git
    mv daspanel customer1
    cd customer1
    ```

### Configure email service

Probably the sites you host will need to send emails using the PHP command 
`mail()`. In addition, Daspanel will need to send you occasional notifications. 
To avoid SPAM issues Daspanel itself or sites hosted on it can't send emails 
directly. You need to set up an external mail sending service.

To do this, edit the `smtp.env` file and change the following settings:

| Setting    | Required | Example  | |
| :--------- | :------: | :------ | :------ |
| **DASPANEL_MAIL_SERVER**      | yes  | smtp.gmail.com:587 | SMTP server address in the format `host:port` |
| **DASPANEL_MAIL_USER** | yes  | user@gmail.com | Your login account in the SMTP server|
| **DASPANEL_MAIL_PWD** | yes  | verygoodpassword | Password of your SMTP account |
| **DASPANEL_MAIL_HUB** | yes  | gmail | **Do not change for now** |

!!! note ""
    The smtp.env file you downloaded is an example of how to set up sending emails using a Gmail account. Adapt it to your preferred email provider.

### Configure Daspanel

#### Get a unique ID for the project

Every Daspanel installation must have a global unique ID (GUUID) associated 
with it. We choose to use a type called 
[CUID](https://github.com/ericelliott/cuid).

You can generate it in 2 ways:

1. You can get one online using [getuuid.com](http://getuuid.com/)
2. Or, download the contents of the 
[GETUUID Project](https://github.com/daspanel/getuuid.github.io) , unzip it and 
open the `index.html` file in your browser (it's the source code of getuuid.com).

#### Edit configuration file

To do this, edit the `daspanel.env` file and change the following settings:

| Setting    | Required | Example  | |
| :--------- | :------: | :------ | :------ |
| **DASPANEL_HOST** | yes  | daspanel.site | Address of the host where Daspanel will be installed. If it's your local computer use `daspanel.site` |
| **DASPANEL_GUUID** | yes  | ciza75wd60000335jw9ovs214 | The unique ID you obtained earlier |
| **DASPANEL_MASTER_EMAIL** | yes  | user@gmail.com | Your email. It will be used to login as admin into the panel and as recipient of notifications messages |
| **DASPANEL_MASTER_PASSWORD** | yes  | SomeGoodPwdd123 | The password you want to use as admin |
| **DASPANEL_DEBUG** | yes  | False | Only set to True in a development environment |

!!! summary "daspanel.site"
    this domain and all its subdomains always resolve to 127.0.0.1. Using it you 
    don't need to change your computer `/etc/hosts` file to use Daspanel in 
    your local computer.

### Start Daspanel

Run this command and wait until Docker download's all container's images needed by Daspanel:

``` shell
docker-compose up -d
```

After the above command finishes check if the Daspanel is working by clicking 
on this link: 

[http://admin.daspanel.site](http://admin.daspanel.site)

You will have to see something like this:

[![Daspanel login](/images/daspanel-login.png)](/images/daspanel-login.png)

!!! warning ""
    If you modified the `DASPANEL_HOST` to an address other than `daspanel.site`, 
    `mydomain.com` for example, the control panel URL will be 
    http://admin.mydomain.com
